train = apply(train, 2, function(x) tolower(x))
train = apply(train, 2, function(x) trimws(x))
train = as_tibble(train)
train$LotFrontage = impute(train$LotFrontage, 0)
train$Alley = impute(train$Alley, "nothing")
train$MasVnrType = impute(train$MasVnrType, "nothing")
train$MasVnrType = train$MasVnrType %>% str_replace_all("none", "nothing")
train$MasVnrArea = impute(train$MasVnrArea, 0)
train$GarageYrBlt[is.na(train$GarageYrBlt)] = train$YearBuilt[is.na(train$GarageYrBlt)]
# get_mode(train$Electrical)
train$Electrical = impute(train$Electrical, "sbrkr")
train$Electrical = impute(train$Electrical, "sbrkr")
train[949, "BsmtExposure"] = "No"
col_nothing = c("BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinSF1", "BsmtFinType2", "BsmtFinSF2","BsmtUnfSF","TotalBsmtSF")
for (column in col_nothing){
train[,column] = impute(train[,column], "nothing")
}
garage = c("GarageType", "GarageYrBlt", "GarageFinish", "GarageQual", "GarageCond", "GarageCars","GarageArea")
for (column in garage){
train[,column] = impute(train[,column], "nothing")
}
train$PoolQC = impute(train$PoolQC, 'nothing')
train$FireplaceQu = impute(train$FireplaceQu, 'nothing')
train$Fence = impute(train$Fence, 'nothing')
train$MiscFeature = impute(train$MiscFeature, 'nothing')
## check NA
missing <- which(colSums(is.na(train)) > 0)
missing
sort(colSums(sapply(train[missing], is.na)), decreasing=TRUE)
str_detect(train, "none") %>% sum()
str_detect(train, "na") %>% sum()
str_detect(train, "none") %>% sum()
str_detect(train, "na") %>% sum()
which(is.na(train),)
which(is.na(train))
is.na(train)
is.na(train) == TRUE
which(is.na(train) == TRUE)
which(train == 'na')
which(train == 'none')
which(train$Id == 'na')
which(train$MSSubClass == 'na')
train = apply(train, 2, function(x) tolower(x))
train = apply(train, 2, function(x) trimws(x))
train = as_tibble(train)
train$LotFrontage = impute(train$LotFrontage, 0)
train$Alley = impute(train$Alley, "nothing")
train$MasVnrType = impute(train$MasVnrType, "nothing")
train$MasVnrType = train$MasVnrType %>% str_replace_all("none", "nothing")
train$MasVnrArea = impute(train$MasVnrArea, 0)
train$GarageYrBlt[is.na(train$GarageYrBlt)] = train$YearBuilt[is.na(train$GarageYrBlt)]
#train[is.na(train$GarageYrBlt), c("Id", "GarageYrBlt", "YearBuilt")]
#fill = train[is.na(train$GarageYrBlt), c("YearBuilt")]
#left_out = train[is.na(train$GarageYrBlt), c("Id")]
#train[is.na(train$GarageYrBlt), "GarageYrBlt"] = fill
#train[train$Id %in% left_out,c("Id", "GarageYrBlt", "YearBuilt")]
#train[train$MasVnrArea == 0, c("MasVnrType", "MasVnrArea")] %>% View()
# get_mode = function(x){
#   lv = unique(x)
#   ans = lv[which.max(tabulate(match(x, lv)))] %>% as.character()
#   return(ans)
# }
# get_mode(train$Electrical)
train$Electrical = impute(train$Electrical, "sbrkr")
train$Electrical = impute(train$Electrical, "sbrkr")
train[949, "BsmtExposure"] = "No"
col_nothing = c("BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinSF1", "BsmtFinType2", "BsmtFinSF2","BsmtUnfSF","TotalBsmtSF")
# impute_nothing = function(column){
#   train[,column] = impute(train[,column], "nothing")
# }
# sapply(col_nothing, impute_nothing)
for (column in col_nothing){
train[,column] = impute(train[,column], "nothing")
}
garage = c("GarageType", "GarageYrBlt", "GarageFinish", "GarageQual", "GarageCond", "GarageCars","GarageArea")
for (column in garage){
train[,column] = impute(train[,column], "nothing")
}
train$PoolQC = impute(train$PoolQC, 'nothing')
train$FireplaceQu = impute(train$FireplaceQu, 'nothing')
train$Fence = impute(train$Fence, 'nothing')
train$MiscFeature = impute(train$MiscFeature, 'nothing')
## check NA
missing <- which(colSums(is.na(train)) > 0)
sort(colSums(sapply(train[missing], is.na)), decreasing=TRUE)
str_detect(train, "none") %>% sum()
str_detect(train, "na") %>% sum()
year_to_ordinal = function(year){
decade = -1
if (year < 1920) {
decade = 1
} else if (year > 1999){
decade = 10
}else{
decade = ((year %/% 10 * 10) - 1900) / 10
}
return(decade)
}
train$decade = sapply(train$YearBuilt, year_to_ordinal)
write.csv(file = "./processed_data/train_full.csv", train)
which(train == "nothing")
which(train == "none")
which(is.na(train))
train = apply(train, 2, function(x) tolower(x))
train = apply(train, 2, function(x) trimws(x))
train = as_tibble(train)
train$LotFrontage = impute(train$LotFrontage, 0)
train$Alley = impute(train$Alley, "nothing")
train$MasVnrType = impute(train$MasVnrType, "nothing")
train$MasVnrType = train$MasVnrType %>% str_replace_all("none", "nothing")
train$MasVnrArea = impute(train$MasVnrArea, 0)
train$GarageYrBlt[is.na(train$GarageYrBlt)] = train$YearBuilt[is.na(train$GarageYrBlt)]
#train[is.na(train$GarageYrBlt), c("Id", "GarageYrBlt", "YearBuilt")]
#fill = train[is.na(train$GarageYrBlt), c("YearBuilt")]
#left_out = train[is.na(train$GarageYrBlt), c("Id")]
#train[is.na(train$GarageYrBlt), "GarageYrBlt"] = fill
#train[train$Id %in% left_out,c("Id", "GarageYrBlt", "YearBuilt")]
#train[train$MasVnrArea == 0, c("MasVnrType", "MasVnrArea")] %>% View()
# get_mode = function(x){
#   lv = unique(x)
#   ans = lv[which.max(tabulate(match(x, lv)))] %>% as.character()
#   return(ans)
# }
# get_mode(train$Electrical)
train$Electrical = impute(train$Electrical, "sbrkr")
train$Electrical = impute(train$Electrical, "sbrkr")
train[949, "BsmtExposure"] = "No"
col_nothing = c("BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinSF1", "BsmtFinType2", "BsmtFinSF2","BsmtUnfSF","TotalBsmtSF")
# impute_nothing = function(column){
#   train[,column] = impute(train[,column], "nothing")
# }
# sapply(col_nothing, impute_nothing)
for (column in col_nothing){
train[,column] = impute(train[,column], "nothing")
}
garage = c("GarageType", "GarageYrBlt", "GarageFinish", "GarageQual", "GarageCond", "GarageCars","GarageArea")
for (column in garage){
train[,column] = impute(train[,column], "nothing")
}
train$PoolQC = impute(train$PoolQC, 'nothing')
train$FireplaceQu = impute(train$FireplaceQu, 'nothing')
train$Fence = impute(train$Fence, 'nothing')
train$MiscFeature = impute(train$MiscFeature, 'nothing')
## check NA
#missing <- which(colSums(is.na(train)) > 0)
#sort(colSums(sapply(train[missing], is.na)), decreasing=TRUE)
#str_detect(train, "none") %>% sum()
#str_detect(train, "na") %>% sum()
which(train == "none")
which(train == "na")
which(is.na(train))
# convert year to categorical
year_to_ordinal = function(year){
decade = -1
if (year < 1920) {
decade = 1
} else if (year > 1999){
decade = 10
}else{
decade = ((year %/% 10 * 10) - 1900) / 10
}
return(decade)
}
train$decade = sapply(train$YearBuilt, year_to_ordinal)
write.csv(file = "./processed_data/train_full.csv", train)
train = read_csv("./raw_data/train.csv")
test = read_csv("./raw_data/test.csv")
train = apply(train, 2, function(x) tolower(x))
train = apply(train, 2, function(x) trimws(x))
train = as_tibble(train)
train$LotFrontage = impute(train$LotFrontage, 0)
train$Alley = impute(train$Alley, "nothing")
train$MasVnrType = impute(train$MasVnrType, "nothing")
train$MasVnrType = train$MasVnrType %>% str_replace_all("none", "nothing")
train$MasVnrArea = impute(train$MasVnrArea, 0)
train$GarageYrBlt[is.na(train$GarageYrBlt)] = train$YearBuilt[is.na(train$GarageYrBlt)]
#train[is.na(train$GarageYrBlt), c("Id", "GarageYrBlt", "YearBuilt")]
#fill = train[is.na(train$GarageYrBlt), c("YearBuilt")]
#left_out = train[is.na(train$GarageYrBlt), c("Id")]
#train[is.na(train$GarageYrBlt), "GarageYrBlt"] = fill
#train[train$Id %in% left_out,c("Id", "GarageYrBlt", "YearBuilt")]
#train[train$MasVnrArea == 0, c("MasVnrType", "MasVnrArea")] %>% View()
# get_mode = function(x){
#   lv = unique(x)
#   ans = lv[which.max(tabulate(match(x, lv)))] %>% as.character()
#   return(ans)
# }
# get_mode(train$Electrical)
train$Electrical = impute(train$Electrical, "sbrkr")
train$Electrical = impute(train$Electrical, "sbrkr")
train[949, "BsmtExposure"] = "No"
col_nothing = c("BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinSF1", "BsmtFinType2", "BsmtFinSF2","BsmtUnfSF","TotalBsmtSF")
# impute_nothing = function(column){
#   train[,column] = impute(train[,column], "nothing")
# }
# sapply(col_nothing, impute_nothing)
for (column in col_nothing){
train[,column] = impute(train[,column], "nothing")
}
garage = c("GarageType", "GarageYrBlt", "GarageFinish", "GarageQual", "GarageCond", "GarageCars","GarageArea")
for (column in garage){
train[,column] = impute(train[,column], "nothing")
}
train$PoolQC = impute(train$PoolQC, 'nothing')
train$FireplaceQu = impute(train$FireplaceQu, 'nothing')
train$Fence = impute(train$Fence, 'nothing')
train$MiscFeature = impute(train$MiscFeature, 'nothing')
## check NA
#missing <- which(colSums(is.na(train)) > 0)
#sort(colSums(sapply(train[missing], is.na)), decreasing=TRUE)
#str_detect(train, "none") %>% sum()
#str_detect(train, "na") %>% sum()
which(train == "none")
which(train == "na")
which(is.na(train))
# convert year to categorical
year_to_ordinal = function(year){
decade = -1
if (year < 1920) {
decade = 1
} else if (year > 1999){
decade = 10
}else{
decade = ((year %/% 10 * 10) - 1900) / 10
}
return(decade)
}
sapply(train$YearBuilt, year_to_ordinal)
#train$decade_YearBuilt = sapply(train$YearBuilt, year_to_ordinal)
#train$decade_YearRemodAdd = sapply(train$YearRemodAdd, year_to_ordinal)
#train$decade_GarageYrBlt = sapply(train$GarageYrBlt, year_to_ordinal)
write.csv(file = "./processed_data/train_full.csv", train)
train$YearBuilt
train$YearBuilt %>% class()
train[199 ,c("YearBuilt", "GarageYrBlt")]
train[149 ,c("YearBuilt", "GarageYrBlt")]
head(train) %>% View()
train$decade_YearBuilt = sapply(train$YearBuilt, year_to_ordinal)
train$decade_YearRemodAdd = sapply(train$YearRemodAdd, year_to_ordinal)
train$decade_GarageYrBlt = sapply(train$GarageYrBlt, year_to_ordinal)
train$YearBuilt = as.numeric(train$YearBuilt)
train$decade_YearBuilt = sapply(train$YearBuilt, year_to_ordinal)
train$decade_YearBuilt
# convert year to categorical
year_to_ordinal = function(year){
decade = -1
if (year < 1920) {
decade = 1
} else if (year > 1999){
decade = 10
}else{
decade = ((year %/% 10 * 10) - 1900) / 10
}
return(decade)
}
#sapply(train$YearBuilt, year_to_ordinal)
train$YearBuilt = as.numeric(train$YearBuilt)
train$YearRemodAdd = as.numeric(train$YearRemodAdd)
train$GarageYrBlt = as.numeric(train$GarageYrBlt)
train$decade_YearBuilt = sapply(train$YearBuilt, year_to_ordinal)
train$decade_YearRemodAdd = sapply(train$YearRemodAdd, year_to_ordinal)
train$decade_GarageYrBlt = sapply(train$GarageYrBlt, year_to_ordinal)
head(train) %>% View()
head(train[,c("decade_YearBuilt", "decade_YearRemodAdd", "decade_GarageYrBlt")]) %>% View()
head(train[,c("Id", "YearBuilt",  "decade_YearBuilt", "decade_YearRemodAdd", "decade_GarageYrBlt")]) %>% View()
colnames(train)
train = read_csv("./raw_data/train.csv")
test = read_csv("./raw_data/test.csv")
train = apply(train, 2, function(x) tolower(x))
train = apply(train, 2, function(x) trimws(x))
train = as_tibble(train)
train$LotFrontage = impute(train$LotFrontage, 0)
train$Alley = impute(train$Alley, "nothing")
train$MasVnrType = impute(train$MasVnrType, "nothing")
train$MasVnrType = train$MasVnrType %>% str_replace_all("none", "nothing")
train$MasVnrArea = impute(train$MasVnrArea, 0)
train$GarageYrBlt[is.na(train$GarageYrBlt)] = train$YearBuilt[is.na(train$GarageYrBlt)]
#train[is.na(train$GarageYrBlt), c("Id", "GarageYrBlt", "YearBuilt")]
#fill = train[is.na(train$GarageYrBlt), c("YearBuilt")]
#left_out = train[is.na(train$GarageYrBlt), c("Id")]
#train[is.na(train$GarageYrBlt), "GarageYrBlt"] = fill
#train[train$Id %in% left_out,c("Id", "GarageYrBlt", "YearBuilt")]
#train[train$MasVnrArea == 0, c("MasVnrType", "MasVnrArea")] %>% View()
# get_mode = function(x){
#   lv = unique(x)
#   ans = lv[which.max(tabulate(match(x, lv)))] %>% as.character()
#   return(ans)
# }
# get_mode(train$Electrical)
train$Electrical = impute(train$Electrical, "sbrkr")
train$Electrical = impute(train$Electrical, "sbrkr")
train[949, "BsmtExposure"] = "No"
col_nothing = c("BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinSF1", "BsmtFinType2", "BsmtFinSF2","BsmtUnfSF","TotalBsmtSF")
# impute_nothing = function(column){
#   train[,column] = impute(train[,column], "nothing")
# }
# sapply(col_nothing, impute_nothing)
for (column in col_nothing){
train[,column] = impute(train[,column], "nothing")
}
garage = c("GarageType", "GarageYrBlt", "GarageFinish", "GarageQual", "GarageCond", "GarageCars","GarageArea")
for (column in garage){
train[,column] = impute(train[,column], "nothing")
}
train$PoolQC = impute(train$PoolQC, 'nothing')
train$FireplaceQu = impute(train$FireplaceQu, 'nothing')
train$Fence = impute(train$Fence, 'nothing')
train$MiscFeature = impute(train$MiscFeature, 'nothing')
## check NA
#missing <- which(colSums(is.na(train)) > 0)
#sort(colSums(sapply(train[missing], is.na)), decreasing=TRUE)
#str_detect(train, "none") %>% sum()
#str_detect(train, "na") %>% sum()
which(train == "none")
which(train == "na")
which(is.na(train))
# convert year to categorical
year_to_ordinal = function(year){
decade = -1
if (year < 1920) {
decade = 1
} else if (year > 1999){
decade = 10
}else{
decade = ((year %/% 10 * 10) - 1900) / 10
}
return(decade)
}
#sapply(train$YearBuilt, year_to_ordinal)
train$YearBuilt = as.numeric(train$YearBuilt)
train$YearRemodAdd = as.numeric(train$YearRemodAdd)
train$GarageYrBlt = as.numeric(train$GarageYrBlt)
train$decade_YearBuilt = sapply(train$YearBuilt, year_to_ordinal)
train$decade_YearRemodAdd = sapply(train$YearRemodAdd, year_to_ordinal)
train$decade_GarageYrBlt = sapply(train$GarageYrBlt, year_to_ordinal)
write.csv(file = "./processed_data/train_full.csv", train)
train = read_csv("./raw_data/train.csv")
test = read_csv("./raw_data/test.csv")
train = read_csv("./raw_data/train.csv")
test = read_csv("./raw_data/test.csv")
train = apply(train, 2, function(x) tolower(x))
train = apply(train, 2, function(x) trimws(x))
train = as_tibble(train)
train$LotFrontage = impute(train$LotFrontage, 0)
train$Alley = impute(train$Alley, "nothing")
train$MasVnrType = impute(train$MasVnrType, "nothing")
train$MasVnrType = train$MasVnrType %>% str_replace_all("none", "nothing")
train$MasVnrArea = impute(train$MasVnrArea, 0)
train$GarageYrBlt[is.na(train$GarageYrBlt)] = train$YearBuilt[is.na(train$GarageYrBlt)]
#train[is.na(train$GarageYrBlt), c("Id", "GarageYrBlt", "YearBuilt")]
#fill = train[is.na(train$GarageYrBlt), c("YearBuilt")]
#left_out = train[is.na(train$GarageYrBlt), c("Id")]
#train[is.na(train$GarageYrBlt), "GarageYrBlt"] = fill
#train[train$Id %in% left_out,c("Id", "GarageYrBlt", "YearBuilt")]
#train[train$MasVnrArea == 0, c("MasVnrType", "MasVnrArea")] %>% View()
# get_mode = function(x){
#   lv = unique(x)
#   ans = lv[which.max(tabulate(match(x, lv)))] %>% as.character()
#   return(ans)
# }
# get_mode(train$Electrical)
train$Electrical = impute(train$Electrical, "sbrkr")
train$Electrical = impute(train$Electrical, "sbrkr")
train[949, "BsmtExposure"] = "No"
col_nothing = c("BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinSF1", "BsmtFinType2", "BsmtFinSF2","BsmtUnfSF","TotalBsmtSF")
# impute_nothing = function(column){
#   train[,column] = impute(train[,column], "nothing")
# }
# sapply(col_nothing, impute_nothing)
for (column in col_nothing){
train[,column] = impute(train[,column], "nothing")
}
garage = c("GarageType", "GarageYrBlt", "GarageFinish", "GarageQual", "GarageCond", "GarageCars","GarageArea")
for (column in garage){
train[,column] = impute(train[,column], "nothing")
}
train$PoolQC = impute(train$PoolQC, 'nothing')
train$FireplaceQu = impute(train$FireplaceQu, 'nothing')
train$Fence = impute(train$Fence, 'nothing')
train$MiscFeature = impute(train$MiscFeature, 'nothing')
## check NA
#missing <- which(colSums(is.na(train)) > 0)
#sort(colSums(sapply(train[missing], is.na)), decreasing=TRUE)
#str_detect(train, "none") %>% sum()
#str_detect(train, "na") %>% sum()
which(train == "none")
which(train == "na")
which(is.na(train))
# convert year to categorical
year_to_ordinal = function(year){
decade = -1
if (year < 1920) {
decade = 1
} else if (year > 1999){
decade = 10
}else{
decade = ((year %/% 10 * 10) - 1900) / 10
}
return(decade)
}
#sapply(train$YearBuilt, year_to_ordinal)
train$YearBuilt = as.numeric(train$YearBuilt)
train$YearRemodAdd = as.numeric(train$YearRemodAdd)
train$GarageYrBlt = as.numeric(train$GarageYrBlt)
train$decade_YearBuilt = sapply(train$YearBuilt, year_to_ordinal)
train$decade_YearRemodAdd = sapply(train$YearRemodAdd, year_to_ordinal)
train$decade_GarageYrBlt = sapply(train$GarageYrBlt, year_to_ordinal)
write.csv(file = "./processed_data/train_full.csv", train)
sapply(train$YearBuilt, year_to_ordinal)
train = read_csv("./raw_data/train.csv")
test = read_csv("./raw_data/test.csv")
train = read_csv("./raw_data/train.csv")
test = read_csv("./raw_data/test.csv")
train = apply(train, 2, function(x) tolower(x))
train = apply(train, 2, function(x) trimws(x))
train = as_tibble(train)
train$LotFrontage = impute(train$LotFrontage, 0)
train$Alley = impute(train$Alley, "nothing")
train$MasVnrType = impute(train$MasVnrType, "nothing")
train$MasVnrType = train$MasVnrType %>% str_replace_all("none", "nothing")
train$MasVnrArea = impute(train$MasVnrArea, 0)
train$GarageYrBlt[is.na(train$GarageYrBlt)] = train$YearBuilt[is.na(train$GarageYrBlt)]
#train[is.na(train$GarageYrBlt), c("Id", "GarageYrBlt", "YearBuilt")]
#fill = train[is.na(train$GarageYrBlt), c("YearBuilt")]
#left_out = train[is.na(train$GarageYrBlt), c("Id")]
#train[is.na(train$GarageYrBlt), "GarageYrBlt"] = fill
#train[train$Id %in% left_out,c("Id", "GarageYrBlt", "YearBuilt")]
#train[train$MasVnrArea == 0, c("MasVnrType", "MasVnrArea")] %>% View()
# get_mode = function(x){
#   lv = unique(x)
#   ans = lv[which.max(tabulate(match(x, lv)))] %>% as.character()
#   return(ans)
# }
# get_mode(train$Electrical)
train$Electrical = impute(train$Electrical, "sbrkr")
train$Electrical = impute(train$Electrical, "sbrkr")
train[949, "BsmtExposure"] = "No"
col_nothing = c("BsmtQual", "BsmtCond", "BsmtExposure", "BsmtFinType1", "BsmtFinSF1", "BsmtFinType2", "BsmtFinSF2","BsmtUnfSF","TotalBsmtSF")
# impute_nothing = function(column){
#   train[,column] = impute(train[,column], "nothing")
# }
# sapply(col_nothing, impute_nothing)
for (column in col_nothing){
train[,column] = impute(train[,column], "nothing")
}
garage = c("GarageType", "GarageYrBlt", "GarageFinish", "GarageQual", "GarageCond", "GarageCars","GarageArea")
for (column in garage){
train[,column] = impute(train[,column], "nothing")
}
train$PoolQC = impute(train$PoolQC, 'nothing')
train$FireplaceQu = impute(train$FireplaceQu, 'nothing')
train$Fence = impute(train$Fence, 'nothing')
train$MiscFeature = impute(train$MiscFeature, 'nothing')
## check NA
#missing <- which(colSums(is.na(train)) > 0)
#sort(colSums(sapply(train[missing], is.na)), decreasing=TRUE)
#str_detect(train, "none") %>% sum()
#str_detect(train, "na") %>% sum()
which(train == "none")
which(train == "na")
which(is.na(train))
write.csv(file = "./processed_data/train_full.csv", train)
#c(Typ, Min1, Min2, Mod, Maj1, Maj2, Sev, Sal) %<-% seq(1,8)
train = read_csv("./processed_data/train_full.csv")
train = train[,-1] # get rid of auto-index
col_class = sapply(train, class)
str(train)
train$Functional = sapply(train$Functional, function(x) switch(x, typ = 8, min1 = 7, min2 = 6, mod = 5, maj1 = 4, maj2 = 3, sev = 2, sal = 1))
train$LandSlope = sapply(train$LandSlope, function(x) switch(x, gtl = 3, mod = 2, sev = 1))
train$GarageFinish = sapply(train$GarageFinish, function(x) switch(x, fin = 3, rfn = 2, unf = 1, nothing = 0))
#train$Fence = sapply(train$Fence, function(x) switch(x, gdprv = 4, mnprv = 3, gdwo = 2, mnww = 1, nothing = 0))
switch_qual = function(x){
sapply(x, function(y) switch(y, ex = 5, gd = 4, ta = 3, fa = 2, po = 1, nothing = 0))
}
switch_type = function(x){
sapply(x, function(y) switch(y, glq = 6, alq = 5, blq = 4, rec = 3, lwq = 2, unf = 1, nothing = 0))
}
train$ExterQual = switch_qual(train$ExterQual)
train$ExterCond = switch_qual(train$ExterCond)
train$HeatingQC = switch_qual(train$HeatingQC)
# nothing = 0 for BsmtQual?
train$BsmtQual = switch_qual(train$BsmtQual)
train$BsmtFinType1 = switch_type(train$BsmtFinType1)
train$BsmtFinType2 = switch_type(train$BsmtFinType2)
train$GarageQual = switch_qual(train$GarageQual)
train$GarageCond = switch_qual(train$GarageCond)
train$PoolQC = switch_qual(train$PoolQC)
train$FireplaceQu = switch_qual(train$FireplaceQu)
# convert year to categorical
year_to_ordinal = function(year){
decade = -1
if (year < 1920) {
decade = 1
} else if (year > 1999){
decade = 10
}else{
decade = ((year %/% 10 * 10) - 1900) / 10
}
return(decade)
}
sapply(train$YearBuilt, year_to_ordinal)
train$YearBuilt = as.numeric(train$YearBuilt)
train$YearRemodAdd = as.numeric(train$YearRemodAdd)
train$GarageYrBlt = as.numeric(train$GarageYrBlt)
train$decade_YearBuilt = sapply(train$YearBuilt, year_to_ordinal)
train$decade_YearRemodAdd = sapply(train$YearRemodAdd, year_to_ordinal)
train$decade_GarageYrBlt = sapply(train$GarageYrBlt, year_to_ordinal)
str(train)
write_csv(train, "./processed_data/train_ordinal.csv")
"cat" + "dog"
cat("cat", "dog")
cat("cat", "dog", sep = "")
